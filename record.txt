
iMap.prototype.getServiceNo = function (n, t, fun) {
    t = t.toString().toLowerCase();
    var fstrings = fun.toString();
    this.name = fstrings.substring(9, fstrings.indexOf("("));
    n = encodeURIComponent(n);
    var url = ServerType + "//" + WebServer + "/net/familyShop.aspx?searchType=ServiceNo&type=" + t + "&kw=" + n + "&fun=" + fun + "&key=" + apiKey;
    var myscript = document.createElement('SCRIPT');
    myscript.src = url;
    document.body.appendChild(myscript);
}
iMap.prototype.getShopTownList = function (city, t, fun) {
    t = t.toString().toLowerCase();
    var fstrings = fun.toString();
    this.name = fstrings.substring(9, fstrings.indexOf("("));
    city = encodeURIComponent(city);
    var url = ServerType + "//" + WebServer + "/net/familyShop.aspx?searchType=ShowTownList&type=" + t + "&city=" + city + "&fun=" + fun + "&key=" + apiKey;
    var myscript = document.createElement('SCRIPT');
    myscript.src = url;
    document.body.appendChild(myscript);
}

iMap.prototype.getShopList = function (city, area, road, t, fun) {
    t = t.toString().toLowerCase();
    var fstrings = fun.toString();
    this.name = fstrings.substring(9, fstrings.indexOf("("));
    city = encodeURIComponent(city);
    area = encodeURIComponent(area);
    road = encodeURIComponent(road);
    var url = ServerType + "//" + WebServer + "/net/familyShop.aspx?searchType=ShopList&type=" + t + "&city=" + city + "&area=" + area + "&road=" + road + "&fun=" + fun + "&key=" + apiKey;
    var myscript = document.createElement('SCRIPT');
    myscript.src = url;
    document.body.appendChild(myscript);
}


iMap.prototype.landmarkList = function (city, area, keyword, fun) {
    city = encodeURIComponent(city);
    area = encodeURIComponent(area);
    keyword = encodeURIComponent(keyword);
    var url = ServerType + "//" + WebServer + "/net/GraphicsXY.aspx?search_class=LandmarkList&city=" + city + "&area=" + area + "&key=" + keyword + "&fun=" + fun;
    var myscript = document.createElement('SCRIPT');
    myscript.src = url;
    document.body.appendChild(myscript);
}
iMap.prototype.ShowCityList = function (t, fun) {
    t = t.toString().toLowerCase();
    var fstrings = fun.toString();
    this.name = fstrings.substring(9, fstrings.indexOf("("));
    var url = ServerType + "//" + WebServer + "/net/familyShop.aspx?searchType=ShowCityList&type=" + t + "&fun=" + fun + "&key=" + apiKey;
    var myscript = document.createElement('SCRIPT');
    myscript.src = url;
    document.body.appendChild(myscript);
}